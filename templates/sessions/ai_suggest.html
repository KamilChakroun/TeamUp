<!-- templates/sessions/ai_suggest.html -->
{% extends 'sessions/base.html' %}
{% load static %}
{% block title %}AI Suggestions - TeamUp{% endblock %}
{% block header %}
<div class="header-for-bg">
  <div class="background-header position-relative">
    <img src="{% static 'assets/images/page-img/profile-bg7.jpg' %}" class="img-fluid w-100" alt="header-bg">
    <div class="title-on-header">
      <div class="data-block">
        <h2>AI Suggested Slots for {{ session.get_sport_type_display }}</h2>
      </div>
    </div>
  </div>
</div>
{% endblock %}
{% block content %}
<div class="row">
  {% for suggestion in session.suggestions.all %}
  <div class="col-lg-4 col-md-6 mb-4">
    <div class="card h-100">
      <div class="card-body text-center">
        <i class="las la-magic text-primary mb-3" style="font-size: 3rem;"></i>
        <h5 class="card-title">Suggested Slot</h5>
        <p class="card-text"><strong>{{ suggestion.proposed_datetime|date:"M d, Y H:i" }}</strong></p>
        <p class="text-muted small">{{ suggestion.rationale|linebreaks|truncatechars:120 }}</p>
        <button type="button" class="btn btn-primary w-100">Confirm</button>
      </div>
    </div>
  </div>
  {% empty %}
  <div class="col-12">
    <div class="card">
      <div class="card-body text-center py-5">
        <i class="las la-brain text-info mb-3" style="font-size: 3rem;"></i>
        <h5 class="text-muted">No Suggestions Yet</h5>
        <p class="text-muted">AI will generate ideas based on availability. <a href="{% url 'sessions:list' %}">View sessions</a>.</p>
      </div>
    </div>
  </div>
  {% endfor %}
</div>
<div class="text-center mt-4">
  <a href="{% url 'sessions:detail' session.pk %}" class="btn btn-secondary">Back to Session</a>
</div>
{% endblock %}